<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=no" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="Gift Propaganda News - новости о подарках, криптовалютах и NFT в Telegram" />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />

    <!-- Telegram Web App SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>

    <title>Gift Propaganda News</title>

    <style>
      /* CSS переменные для Telegram Web App */
      :root {
        --tg-theme-bg-color: #ffffff;
        --tg-theme-text-color: #000000;
        --tg-theme-hint-color: #8e8e93;
        --tg-theme-link-color: #007aff;
        --tg-theme-button-color: #007aff;
        --tg-theme-button-text-color: #ffffff;
        --tg-theme-secondary-bg-color: #f8f9fa;
        --tg-viewport-height: 100vh;
      }

      /* Темная тема для Telegram */
      @media (prefers-color-scheme: dark) {
        :root {
          --tg-theme-bg-color: #212121;
          --tg-theme-text-color: #ffffff;
          --tg-theme-hint-color: #8e8e93;
          --tg-theme-link-color: #6ab7ff;
          --tg-theme-button-color: #5288c1;
          --tg-theme-button-text-color: #ffffff;
          --tg-theme-secondary-bg-color: #181818;
        }
      }

      html, body {
        margin: 0;
        padding: 0;
        height: 100%;
        overflow-x: hidden;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
          'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
          sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        background-color: var(--tg-theme-bg-color, #ffffff);
        color: var(--tg-theme-text-color, #000000);
      }

      #root {
        height: 100%;
      }

      /* Telegram Web App specific styles */
      .twa-viewport {
        height: 100vh;
        height: var(--tg-viewport-height, 100vh);
      }
    </style>
  </head>
  <body>
    <noscript>Вам необходимо включить JavaScript для работы этого приложения.</noscript>
    <div id="root" class="twa-viewport"></div>

    <script>
      // Инициализация Telegram Web App
      if (window.Telegram && window.Telegram.WebApp) {
        window.Telegram.WebApp.ready();
        window.Telegram.WebApp.expand();

        // Применяем CSS переменные Telegram
        const root = document.documentElement;
        const tgWebApp = window.Telegram.WebApp;

        if (tgWebApp.themeParams) {
          Object.keys(tgWebApp.themeParams).forEach(key => {
            root.style.setProperty(`--tg-theme-${key.replace(/_/g, '-')}`, tgWebApp.themeParams[key]);
          });
        }

        // Устанавливаем высоту viewport
        if (tgWebApp.viewportHeight) {
          root.style.setProperty('--tg-viewport-height', `${tgWebApp.viewportHeight}px`);
        }
      }
    </script>
  </body>
</html>
